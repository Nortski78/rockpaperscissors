<!DOCTYPE html>
<head>
    <meta charset="utf-8">
</head>
<body>
    <script>

       function computerPlay() {
            const computerChoice = Math.floor(Math.random() * 3);
           
            return computerChoice;
        }

        function playRound(playerSelection, computerSelection){

            //0: Rock
            //1: Paper
            //2: Scissors

            playerSelection = playerSelection.toLowerCase();

            let playerScore = 0;
        

            if(playerSelection === "rock") { playerScore = 0; }
            else if(playerSelection === "paper"){ playerScore = 1; }
            else playerScore = 2;

            if(computerSelection === 0) { computerChoice = "rock"; }
            else if(computerSelection === 1){ computerChoice = "paper"; }
            else computerChoice = "scissors";

            if (((playerScore + 1) % 3) === computerSelection) {
                const winner = "computer";
                updateScore(winner);
                return "You lose! " + computerChoice + " beats " + playerSelection;
            }
            else if(playerScore === computerSelection) {
                return "Round is tied";
            }
            else{
                const winner = "player";
                updateScore(winner);
                return "You win! " + playerSelection + " beats " + computerChoice;
            }
        }
        
        function updateScore(winner){
            if (winner === "player") { ++playerScore; }
            else ++computerScore;
        }


        function game(){
            const numGames = 5;

            for(let i = 1; i <= numGames; i++) {
                console.log(playRound(playerSelection, computerSelection));
            }

            if(playerScore > computerScore) {
                console.log("You win the match: " + playerScore + " - " + computerScore);
            }
            else if (playerScore < computerScore) {
                console.log("Computer wins the match: " + computerScore + " - " + playerScore);
            }
        }

        const playerSelection = "Scissors";
        const computerSelection = computerPlay();
        let playerScore = 0;
        let computerScore = 0;

        game();

    </script>
</body>
</html>