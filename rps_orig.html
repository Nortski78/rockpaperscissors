<!DOCTYPE html>
<head>
    <meta charset="utf-8">
</head>
<body>
    <script>

        // Initialise the scores to 0
        let playerScore = 0;
        let computerScore = 0;
        
        function computerPlay() {

            //Get a random computer choice
            const computerChoice = Math.floor(Math.random() * 3);

            if(computerChoice === 0){ return "rock"; }
            else if (computerChoice === 1){ return "paper"; }
            else { return "scissors"; }
        }
      
        function playRound(playerSelection, computerSelection){

            // Show the computer choice
            console.log("Computer choices: " + computerSelection);

            //If the player wins
            if((playerSelection === "rock" && computerSelection === "scissors") || 
            (playerSelection === "paper" && computerSelection === "rock") ||
            (playerSelection === "scissors" && computerSelection === "paper")){

                playerScore++;

                if(playerSelection === "rock") {
                    return "You win! Rock beat scissors.";
                }
                else if(playerSelection === "paper") {
                    return "You win! Paper beats rock.";
                }
                else {
                    return "You win! Scissors beats paper!";
                }
            }
            //If the computer wins
            else if((computerSelection === "rock" && playerSelection === "scissors") || 
            (computerSelection === "paper" && playerSelection === "rock") ||
            (computerSelection === "scissors" && playerSelection === "paper")) {

                computerScore++;

                if(computerSelection === "rock") {
                    return "You lose! Rock beat scissors.";
                }
                else if(computerSelection === "paper") {
                    return "You lose! Paper beats rock.";
                }
                else {
                    return "You lose! Scissors beats paper!";
                }

            }
            //If match is tied
            else { return "Round is tied." }
        }

        function game(){

            //Set the number of sounds
            const numRounds = 5;

            //Game loop
            for(let i = 0; i < numRounds; i++) {
                
                //Get the player selection. Needs error checking
                let playerSelection = prompt("Make your choice: rock, paper, scissors?", "rock");
                playerSelection = playerSelection.toLowerCase(); // Convert to lowercase
                const computerSelection = computerPlay(); // Get the computer selection
                console.log(playRound(playerSelection, computerSelection)); // Play a round
            }

            // Display the winner and scores
            if(playerScore > computerScore){
                console.log("Congratulations! You win the match: " + playerScore + " - " + computerScore);
            }
            else if(playerScore < computerScore){
                console.log("Unlucky! Computer wins the match: " + computerScore + " - " + playerScore);
            }
            else{
                console.log("Match is tied: " + playerScore + " - " + computerScore);
            }
        }

        // Start the game!
        game();

    </script>
</body>
</html>